(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{110:function(e,t){},123:function(e,t,c){},125:function(e,t,c){},150:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c.n(s),r=c(50),i=c.n(r),l=(c(123),c(124),c(9)),o=(c(125),c(7)),j=c(15),d=c(10),h=c.n(d),b=c(6),u=c.n(b),O=c(21),x=c(12),m=c(11),p=c(159),v=c(158),f=c(152),g=c(153),w=c(112),k=c(154),N=c(160),y=c(156),S=c(157),C=c(56),A=c.n(C);var I=function(e){var t=e.isAuth,c=(e.logout,e.setIsAuth);return function(e){var n=Object(s.useState)(),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(s.useState)(),C=Object(l.a)(b,2),I=C[0],R=C[1],B=Object(s.useState)(),L=Object(l.a)(B,2),D=L[0],H=L[1],q=Object(s.useState)(),T=Object(l.a)(q,2),Y=T[0],P=T[1],M=Object(s.useState)([]),z=Object(l.a)(M,2),W=z[0],V=z[1],E=Object(s.useState)(!1),U=Object(l.a)(E,2),F=U[0],K=U[1],_=function(){return K(!1)},J=Object(s.useState)(!1),Q=Object(l.a)(J,2),G=Q[0],$=Q[1],X=function(){return $(!1)},Z=Object(j.g)().id;function ee(){return te.apply(this,arguments)}function te(){return(te=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/".concat(Z),{headers:{Authorization:"Bearer ".concat(t)}});case 4:return c=e.sent,e.next=7,d(c.data.customer);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ce(){return ae.apply(this,arguments)}function ae(){return(ae=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/".concat(Z,"/app"),{headers:{Authorization:"Bearer ".concat(t)}});case 4:return c=e.sent,e.next=7,V(c.data.customer.appointments);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function se(){return(se=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/workshop",{headers:{Authorization:"Bearer ".concat(t)}});case 4:return c=e.sent,e.next=7,P(c.data.workshop);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ne(e){R(Object(x.a)(Object(x.a)({},I),{},Object(O.a)({},e.target.name,e.target.value)))}function re(e){H((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(O.a)({},e.target.name,e.target.value))}))}function ie(){return(ie=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.post("/api/customer/newvehicle/".concat(Z),I,{headers:{Authorization:"Bearer ".concat(t)}});case 4:ee(),_(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}if(Object(s.useEffect)((function(){ee(),function(){se.apply(this,arguments)}(),ce()}),[]),!t)return Object(a.jsx)(j.a,{to:"/login"});function le(){return(le=Object(m.a)(u.a.mark((function e(){var t,c,a,s,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D.vehicle,c=D.date,a=D.work,s=D.others,n=D.workshop,r="others"===a?{vehicle:t,date:c,work:s,workshop:n}:{vehicle:t,date:c,work:a,workshop:n},i=localStorage.getItem("token"),e.next=6,h.a.post("/api/appointment/new/".concat(Z),r,{headers:{Authorization:"Bearer ".concat(i)}});case 6:e.sent,ee(),ce(),X(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:i&&i.vehicles.length>2?"cdash":"cdash2",children:[Object(a.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",children:[Object(a.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(a.jsxs)(v.a,{className:"",children:[Object(a.jsx)(v.a.Link,{as:o.b,to:"/login",children:"Home"}),Object(a.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Workshops"}),Object(a.jsx)(v.a.Link,{onClick:function(){localStorage.removeItem("token"),c(!1)},children:"Logout"})]})]}),Object(a.jsx)(f.a,{className:"cont shadow",children:Object(a.jsxs)(g.a,{children:[Object(a.jsxs)(w.a,{md:8,children:[Object(a.jsx)("div",{className:"my-3",children:Object(a.jsxs)("h1",{children:["Hello ",Object(a.jsx)("strong",{children:i&&i.firstname}),"!"]})}),Object(a.jsx)("div",{className:"my-3",children:Object(a.jsxs)("h2",{children:[Object(a.jsx)("i",{class:"far fa-calendar-check"})," You have",W&&0===W.length?" no appointments scheduled.":" ".concat(W.length," appointments scheduled.")]})}),Object(a.jsx)("div",{className:"my-3",children:Object(a.jsxs)(k.a,{className:"mx-1 my-1",variant:"secondary",onClick:function(){return $(!0)},children:[Object(a.jsx)("i",{class:"fas fa-plus"})," Make an Appointment"]})}),Object(a.jsx)(g.a,{children:W&&W.map((function(e){return Object(a.jsx)(w.a,{lg:4,md:6,children:Object(a.jsxs)(N.a,{className:"text-center mb-3 shadow card",text:"dark",style:{height:"18rem"},children:[Object(a.jsxs)(N.a.Header,{children:[A()(e.date).format("dddd, DD MMMM YYYY"),Object(a.jsx)("br",{}),e.isAcknowledged?Object(a.jsx)("span",{class:"badge badge-pill badge-success",children:"Acknowledged"}):Object(a.jsx)("span",{class:"badge badge-pill badge-danger",children:"Pending"})]}),Object(a.jsxs)(N.a.Body,{children:[Object(a.jsx)("div",{children:e.vehicle.vehicleNumber}),Object(a.jsx)("div",{children:e.work}),Object(a.jsx)("div",{children:Object(a.jsx)("strong",{children:e.workshop.name})})]}),Object(a.jsx)(N.a.Footer,{children:Object(a.jsx)(k.a,{className:"btn-block",variant:"info",as:o.b,to:"/cust/appointment/".concat(e._id),children:"View"})})]},e._id)})}))}),Object(a.jsx)(g.a,{})]}),Object(a.jsxs)(w.a,{md:4,children:[Object(a.jsxs)("div",{className:"my-3 text-center",children:[Object(a.jsx)("h2",{children:"Vehicles"}),Object(a.jsxs)(k.a,{className:"",variant:"secondary",onClick:function(){return K(!0)},children:[Object(a.jsx)("i",{class:"fas fa-plus"})," Add New Vehicle"]})]}),Object(a.jsx)("div",{className:"my-3"}),Object(a.jsx)(f.a,{className:"text-center",children:Object(a.jsxs)(g.a,{children:[i&&0===i.vehicles.length&&Object(a.jsx)(w.a,{lg:12,children:Object(a.jsx)(N.a,{className:"text-center rounded",children:Object(a.jsxs)(N.a.Body,{children:[Object(a.jsx)("i",{style:{fontSize:"3rem"},class:"fas fa-traffic-light mb-2"}),Object(a.jsxs)("div",{children:["Your vehicle will be shown here. ",Object(a.jsx)("br",{}),"Start by adding a new vehicle!"]})]})})}),i&&i.vehicles.map((function(e){return Object(a.jsx)(w.a,{md:12,children:Object(a.jsxs)(N.a,{className:"text-center mb-3 shadow",children:[Object(a.jsxs)(N.a.Body,{children:["Car"===e.type?Object(a.jsx)("i",{style:{fontSize:"2rem"},class:"fas fa-car-side"}):Object(a.jsx)("i",{style:{fontSize:"2rem"},class:"fas fa-motorcycle"}),Object(a.jsx)("div",{children:e.vehicleNumber}),Object(a.jsx)("div",{children:e.make+" "+e.model})]}),Object(a.jsx)(N.a.Footer,{children:Object(a.jsx)(k.a,{className:"btn-block",variant:"info",as:o.b,to:"/cust/vehicle/".concat(e._id),children:"View"})})]},e._id)})})),Object(a.jsx)(f.a,{className:"text-center"}),Object(a.jsxs)(y.a,{show:F,onHide:_,backdrop:"static",keyboard:!1,children:[Object(a.jsx)(y.a.Header,{closeButton:!0,children:Object(a.jsx)(y.a.Title,{children:"Add New Vehicle"})}),Object(a.jsx)(y.a.Body,{children:Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{class:"form-group",children:[Object(a.jsx)("label",{for:"vehicleNumber",children:"Vehicle Number"}),Object(a.jsx)("input",{type:"text",class:"form-control",placeholder:"SBA6969K",name:"vehicleNumber",onChange:ne})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(S.a.Label,{children:"Vehicle Type"}),Object(a.jsxs)(S.a.Control,{name:"type",onChange:ne,as:"select",children:[Object(a.jsx)("option",{children:"Select One.."}),Object(a.jsx)("option",{children:"Car"}),Object(a.jsx)("option",{children:"Motorcycle"})]})]}),Object(a.jsxs)("div",{class:"form-group",children:[Object(a.jsx)("label",{for:"vehicleMake",children:"Vehicle Make"}),Object(a.jsx)("input",{type:"text",class:"form-control",placeholder:"Honda",name:"make",onChange:ne})]}),Object(a.jsxs)("div",{class:"form-group",children:[Object(a.jsx)("label",{for:"vehicleModel",children:"Vehicle Model"}),Object(a.jsx)("input",{type:"text",class:"form-control",placeholder:"Civic Type R",name:"model",onChange:ne})]})]})}),Object(a.jsxs)(y.a.Footer,{children:[Object(a.jsx)(k.a,{variant:"secondary",onClick:_,children:"Close"}),Object(a.jsx)(k.a,{onClick:function(){return ie.apply(this,arguments)},variant:"primary",children:"Submit"})]})]})]})}),Object(a.jsxs)(y.a,{show:G,onHide:X,children:[Object(a.jsx)(y.a.Header,{closeButton:!0,children:Object(a.jsx)(y.a.Title,{children:"Make Appointment"})}),Object(a.jsx)(y.a.Body,{children:Object(a.jsxs)(S.a,{children:[Object(a.jsx)(S.a.Label,{children:"Vehicle"}),Object(a.jsxs)(S.a.Control,{name:"vehicle",as:"select",onChange:re,children:[Object(a.jsx)("option",{children:"Select One"}),i&&i.vehicles.map((function(e){return Object(a.jsxs)("option",{value:e._id,children:[e.vehicleNumber," ",e.make," ",e.model]})}))]}),Object(a.jsx)(S.a.Label,{children:"Date"}),Object(a.jsx)(S.a.Control,{type:"date",name:"date",placeholder:"Appointment Date",onChange:re}),Object(a.jsx)(S.a.Label,{children:"Type"}),Object(a.jsxs)(S.a.Control,{name:"work",as:"select",onChange:re,children:[Object(a.jsx)("option",{children:"Select One"}),Object(a.jsx)("option",{value:"annual servicing",children:"Annual Servicing"}),Object(a.jsx)("option",{value:"engine/fluids",children:"Engine/Fluids"}),Object(a.jsx)("option",{value:"brakes/suspension",children:"Brakes/Suspension"}),Object(a.jsx)("option",{value:"tyres/rims",children:"Tyres/Rims"}),Object(a.jsx)("option",{value:"body/paint",children:"Body/Paint"}),Object(a.jsx)("option",{value:"others",children:"Others"})]}),D&&"others"===D.work&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.a.Label,{children:"If others, please specify:"}),Object(a.jsx)(S.a.Control,{name:"others",placeholder:"Type",onChange:re})]}),Object(a.jsx)(S.a.Label,{children:"Workshop"}),Object(a.jsxs)(S.a.Control,{name:"workshop",as:"select",onChange:re,children:[Object(a.jsx)("option",{children:"Select One"}),Y&&Y.map((function(e){return Object(a.jsx)("option",{value:e._id,children:e.name})}))]})]})}),Object(a.jsxs)(y.a.Footer,{children:[Object(a.jsx)(k.a,{variant:"secondary",onClick:X,children:"Close"}),Object(a.jsx)(k.a,{onClick:function(){return le.apply(this,arguments)},children:"Submit"})]})]})]})]})})]})}()},R=c(155);var B=function(e){var t=e.isAuth,c=(e.logout,e.setIsAuth,Object(s.useState)({})),n=Object(l.a)(c,2),r=n[0],i=n[1],d=Object(j.g)().id,b=Object(s.useState)([]),O=Object(l.a)(b,2),x=O[0],k=O[1];return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/vehicle/".concat(d),{headers:{Authorization:"Bearer ".concat(t)}});case 4:c=e.sent,i(c.data.vehicle),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function t(){return(t=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/vehicle/".concat(d,"/sr"),{headers:{Authorization:"Bearer ".concat(t)}});case 4:c=e.sent,k(c.data.vehicle.serviceRecord),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),console.log(x),t?Object(a.jsxs)("div",{className:x&&0!=x.length?"cdash":"cdash2",children:[Object(a.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",children:[Object(a.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(a.jsxs)(v.a,{className:"",children:[Object(a.jsx)(v.a.Link,{as:o.b,to:"/login",children:"Home"}),Object(a.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Workshops"}),Object(a.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Logout"})]})]}),Object(a.jsxs)(f.a,{className:"cont",children:[Object(a.jsx)(g.a,{children:Object(a.jsxs)(w.a,{md:12,className:"my-3 mx-3",children:[Object(a.jsx)("h1",{children:Object(a.jsx)("u",{children:"Vehicle Details"})}),Object(a.jsxs)("div",{className:"my-3",children:[Object(a.jsxs)("h3",{children:[Object(a.jsx)("strong",{children:"Model:"})," ",r&&r.make]}),Object(a.jsxs)("h3",{children:[Object(a.jsx)("strong",{children:"Make:"})," ",r&&r.model]}),Object(a.jsxs)("h3",{children:[Object(a.jsx)("strong",{children:"Vehicle Number:"})," ",r&&r.vehicleNumber]})]})]})}),Object(a.jsx)(g.a,{children:Object(a.jsxs)(w.a,{md:12,className:"my-2",children:[x&&0!=x.length?Object(a.jsx)("h1",{children:"Service History"}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("h1",{children:[Object(a.jsx)("i",{class:"far fa-clipboard"}),"  ",Object(a.jsx)("i",{children:"Service History will be displayed here."})]}),Object(a.jsxs)("h3",{children:[Object(a.jsx)("i",{class:"fas fa-wrench"}),"  ","You have no records available."]})]}),x&&x.map((function(e){return Object(a.jsxs)(N.a,{className:"my-2",children:[Object(a.jsx)(N.a.Header,{children:Object(a.jsx)("h4",{children:e.date})}),Object(a.jsxs)(N.a.Body,{children:[Object(a.jsx)("h5",{children:e.workshop.name}),Object(a.jsxs)(R.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"text-center",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Item"}),Object(a.jsx)("th",{children:"Quantity"}),Object(a.jsx)("th",{children:"Price"})]})}),e.item.map((function(e,t){return Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t+1}),Object(a.jsx)("td",{children:e.item}),Object(a.jsx)("td",{children:e.qty}),Object(a.jsxs)("td",{children:["$",e.price]})]})},t)}))]})]})]},e._id)}))]})})]})]}):Object(a.jsx)(j.a,{to:"/login"})};var L=function(e){var t=e.isAuth,c=(e.logout,e.setIsAuth,Object(s.useState)()),n=Object(l.a)(c,2),r=n[0],i=n[1],d=Object(j.g)().id;return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/appointment/".concat(d),{headers:{Authorization:"Bearer ".concat(c)}});case 4:a=e.sent,i(a.data.appointment),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}()}),[]),t?Object(a.jsxs)("div",{className:"cdash2",children:[Object(a.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",children:[Object(a.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(a.jsxs)(v.a,{className:"",children:[Object(a.jsx)(v.a.Link,{as:o.b,to:"/login",children:"Home"}),Object(a.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Workshops"}),Object(a.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Logout"})]})]}),Object(a.jsx)(f.a,{className:"cont",children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)("div",{className:"mt-3 mx-1",children:Object(a.jsx)("h1",{children:"Appointment Details"})}),r&&r.isAcknowledged?Object(a.jsx)("span",{class:"badge badge-pill badge-success my-2",children:"Acknowledged"}):Object(a.jsx)("span",{class:"badge badge-pill badge-danger my-2",children:"Pending Acknowledgement"}),Object(a.jsx)(g.a,{children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(N.a,{children:[Object(a.jsx)(N.a.Header,{children:Object(a.jsx)("h3",{children:r&&r.date})}),Object(a.jsxs)(N.a.Body,{children:[Object(a.jsx)("h5",{children:r&&r.vehicle.vehicleNumber}),Object(a.jsx)("h5",{children:r&&r.vehicle.make+" "+r.vehicle.model}),Object(a.jsx)("h5",{children:r&&r.work})]}),Object(a.jsxs)(N.a.Footer,{children:[Object(a.jsx)("h5",{children:r&&r.workshop.name}),Object(a.jsx)("h5",{children:r&&r.workshop.address})]})]})})})]})})})]}):Object(a.jsx)(j.a,{to:"/login"})},D=(c(110),c(13)),H=(c.p,c(48));c(111);var q=function(e){var t=e.setIsAuth,c=e.isAuth,n=Object(s.useState)({}),r=Object(l.a)(n,2),i=(r[0],r[1],Object(s.useState)(!1)),d=Object(l.a)(i,2),b=(d[0],d[1],localStorage.getItem("id")),O=localStorage.getItem("token");Object(s.useEffect)((function(){!function(){if(O)t(!0),j.a,"/dashboard/cust/".concat(b)}()}),[]);var x=D.b().shape({email:D.c().email(),password:D.c()}),p=Object(H.a)({initialValues:{email:"",password:""},validationSchema:x,onSubmit:function(e){!function(e){A.apply(this,arguments)}(e)}}),v=p.handleSubmit,g=p.handleChange,N=p.errors,y=p.values,C=p.touched;function A(){return(A=Object(m.a)(u.a.mark((function e(c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/auth/login",c);case 3:a=e.sent,localStorage.setItem("token",a.data.token),localStorage.setItem("id",a.data.id),t(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return p.handleBlur,c?Object(a.jsx)(j.a,{to:"/dashboard/cust/".concat(b)}):Object(a.jsx)("div",{className:"cdash2 d-flex align-items-center",children:Object(a.jsx)(f.a,{className:"text-center",children:Object(a.jsxs)(w.a,{md:4,className:"mx-auto py-4 cont2 shadow",children:[Object(a.jsx)("h3",{children:Object(a.jsxs)("strong",{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]})}),Object(a.jsxs)(S.a,{onSubmit:v,children:[Object(a.jsx)("div",{className:"my-2",children:"USER LOGIN"}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"email@email.com",value:y.email,onChange:g,name:"email",className:C.email&&N.email?"is-invalid":null}),C.email&&N.email?Object(a.jsx)("div",{className:"invalid-feedback",children:N.email}):null]}),Object(a.jsx)(S.a.Row,{className:"mb-3",children:Object(a.jsx)(S.a.Control,{onChange:g,placeholder:"password",value:y.password,name:"password",type:"password"})}),Object(a.jsx)(S.a.Row,{className:"mb-3",children:Object(a.jsx)(k.a,{type:"submit",block:!0,children:"Login"})})]}),Object(a.jsx)(o.c,{to:"/register",children:"Sign Up Now "}),Object(a.jsx)("div",{className:"my-1",children:Object(a.jsx)(o.c,{to:"/ws/login",children:"Admin Login"})})]})})})};var T=function(e){var t=e.setIsRegis,c=e.isRegis,n=Object(s.useState)({}),r=Object(l.a)(n,2),i=r[0];r[1];var d=D.b().shape({firstname:D.c().required("Required").min(2,"Too Short!").max(70,"Too Long!"),lastname:D.c().min(2,"Too Short!").max(70,"Too Long!").required("Required"),username:D.c().min(2,"Too Short!").max(70,"Too Long!").required("Required"),email:D.c().email("Invalid email").required("Required"),password:D.c().label("Password").required("Required").min(2,"Seems a bit short...").max(10,"We prefer insecure system, try a shorter password.")}),b=Object(H.a)({initialValues:{firstname:"",lastname:"",username:"",email:"",password:""},validationSchema:d,onSubmit:function(e){!function(e){N.apply(this,arguments)}(e)}}),O=b.handleSubmit,x=b.handleChange,p=b.errors,v=b.values,g=b.touched;function N(){return(N=Object(m.a)(u.a.mark((function e(c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/auth/register",i);case 3:e.sent,t(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return b.handleBlur,c?Object(a.jsx)(j.a,{to:"/"}):Object(a.jsx)("div",{className:"cdash2 d-flex align-items-center",children:Object(a.jsx)(f.a,{className:"text-center",children:Object(a.jsxs)(w.a,{md:4,className:"mx-auto py-4 cont2 shadow",children:[Object(a.jsx)("h3",{children:Object(a.jsxs)("strong",{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]})}),Object(a.jsxs)(S.a,{onSubmit:O,children:[Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"First Name",values:v.firstname,onChange:x,name:"firstname",className:g.firstname&&p.firstname?"is-invalid":null}),g.firstname&&p.firstname?Object(a.jsx)("div",{className:"invalid-feedback",children:p.firstname}):null]}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"Last Name",values:v.lastname,onChange:x,name:"lastname",className:g.lastname&&p.lastname?"is-invalid":null}),g.lastname&&p.lastname?Object(a.jsx)("div",{className:"invalid-feedback",children:p.lastname}):null]}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"Username",values:v.username,onChange:x,name:"username",className:g.username&&p.username?"is-invalid":null}),g.username&&p.username?Object(a.jsx)("div",{className:"invalid-feedback",children:p.username}):null]}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"email@email.com",values:v.email,onChange:x,name:"email",className:g.email&&p.email?"is-invalid":null}),g.email&&p.email?Object(a.jsx)("div",{className:"invalid-feedback",children:p.email}):null]}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{onChange:x,placeholder:"Password",values:v.password,name:"password",type:"password",className:g.password&&p.password?"is-invalid":null}),g.password&&p.password?Object(a.jsx)("div",{className:"invalid-feedback",children:p.password}):null]}),Object(a.jsx)(S.a.Row,{className:"mb-3",children:Object(a.jsx)(k.a,{type:"submit",block:!0,children:"Register"})})]}),Object(a.jsx)(o.c,{to:"/login",children:" Back "})]})})})};var Y=function(e){var t=e.isAuth,c=e.logout,n=(e.setIsAuth,Object(s.useState)()),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(s.useState)([]),O=Object(l.a)(b,2),x=(O[0],O[1],Object(j.g)().id);return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/workshop/".concat(x),{headers:{Authorization:"Bearer ".concat(t)}});case 4:c=e.sent,d(c.data.workshop),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function t(){return(t=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/workshop/".concat(x,"/app"));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),t?Object(a.jsxs)("div",{className:"cdash2",children:[Object(a.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",children:[Object(a.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(a.jsxs)(v.a,{className:"",children:[Object(a.jsx)(v.a.Link,{as:o.b,to:"/ws/login",children:"Home"}),Object(a.jsx)(v.a.Link,{as:o.b,to:"/ws/customers/".concat(x),children:"Customers"}),Object(a.jsx)(v.a.Link,{onClick:c,children:"Logout"})]})]}),Object(a.jsx)(f.a,{className:"cont shadow",children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(w.a,{md:12,children:[Object(a.jsx)("div",{className:"my-3 mx-3",children:Object(a.jsxs)("h1",{children:["Welcome, ",i&&i.name," !"]})}),Object(a.jsx)("div",{className:"my-3 mx-3",children:Object(a.jsxs)("h2",{children:[Object(a.jsx)("i",{class:"far fa-clipboard"})," You have"," ",i&&i.appointments.length," appointments."]})}),Object(a.jsxs)(g.a,{children:[i&&0===i.appointments.length&&Object(a.jsx)(w.a,{md:12,children:Object(a.jsx)(N.a,{className:"text-center",children:Object(a.jsxs)(N.a.Body,{children:[Object(a.jsx)("i",{style:{fontSize:"3rem"},class:"fas fa-traffic-light mb-2"}),Object(a.jsx)("div",{children:"Upcoming appointments will be shown here!"})]})})}),i&&i.appointments.map((function(e){return Object(a.jsx)(w.a,{md:4,sm:6,children:Object(a.jsxs)(N.a,{className:"text-center shadow my-2",children:[Object(a.jsxs)(N.a.Header,{children:[Object(a.jsx)(N.a.Title,{children:Object(a.jsx)("div",{children:A()(e.date).format("dddd, DD MMMM YYYY")})}),Object(a.jsx)("div",{children:e.isAcknowledged?Object(a.jsx)("span",{class:"badge badge-pill badge-success",children:"Acknowledged"}):Object(a.jsx)("span",{class:"badge badge-pill badge-danger",children:"Pending"})})]}),Object(a.jsxs)(N.a.Body,{children:[Object(a.jsx)("i",{style:{fontSize:"4rem"},class:"fas fa-tools"}),Object(a.jsx)("div",{className:"my-3",children:Object(a.jsx)("h5",{children:e.work})})]}),Object(a.jsx)(N.a.Footer,{children:Object(a.jsx)(k.a,{variant:"outline-info",as:o.b,to:"/ws/appointment/".concat(e._id),className:"btn-block",children:"View"})})]},e._id)})}))]})]})})})]}):Object(a.jsx)(j.a,{to:"/ws/login"})};var P=function(e){var t=e.isAuth,c=e.logout,n=(e.setIsAuth,Object(s.useState)()),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(j.g)().id;function O(){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,h.a.get("/api/workshop/appointment/".concat(b),{headers:{Authorization:"Bearer ".concat(t)}});case 3:c=e.sent,d(c.data.appointment);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.prev=1,e.next=4,h.a.put("/api/workshop/appointment/".concat(b),{},{headers:{Authorization:"Bearer ".concat(t)}});case 4:O(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){O()}),[]),t?Object(a.jsxs)("div",{className:"cdash2",children:[Object(a.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",children:[Object(a.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(a.jsxs)(v.a,{className:"",children:[Object(a.jsx)(v.a.Link,{as:o.b,to:"/ws/login",children:"Home"}),Object(a.jsx)(v.a.Link,{onClick:c,children:"Logout"})]})]}),Object(a.jsx)(f.a,{className:"cont",children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsxs)("div",{className:"my-3 mx-3",children:[Object(a.jsx)("h1",{children:"Appointment Details"}),i&&i.isAcknowledged?Object(a.jsx)("span",{class:"badge badge-pill badge-success",children:"Acknowledged"}):Object(a.jsx)("span",{class:"badge badge-pill badge-danger",children:"Pending Confirmation"})]}),Object(a.jsxs)(N.a,{children:[Object(a.jsx)(N.a.Header,{children:Object(a.jsx)("h3",{children:i&&i.vehicle.vehicleNumber})}),Object(a.jsxs)(N.a.Body,{children:[Object(a.jsxs)("div",{className:"mb-2",children:[Object(a.jsx)("h3",{children:Object(a.jsx)("u",{children:"Customer Details"})}),Object(a.jsxs)("h5",{children:["Name: ",i&&i.customer.firstname]}),Object(a.jsxs)("h5",{children:["Email: ",i&&i.customer.email]})]}),Object(a.jsxs)("div",{className:"mb-2",children:[Object(a.jsx)("h3",{children:Object(a.jsx)("u",{children:"Vehicle Details"})}),Object(a.jsx)("h5",{children:i&&i.vehicle.vehicleNumber}),Object(a.jsx)("h5",{children:i&&i.vehicle.make+" "+i.vehicle.model}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:Object(a.jsx)("u",{children:"Work required"})}),Object(a.jsx)("h4",{children:Object(a.jsxs)("strong",{children:[" ",i&&i.work]})})]})]})]}),Object(a.jsxs)(N.a.Footer,{children:[i&&!i.isAcknowledged&&Object(a.jsx)(k.a,{onClick:function(){return y.apply(this,arguments)},variant:"outline-success",className:"mr-3",children:"Confirm Appointment"}),Object(a.jsx)(k.a,{as:o.b,to:"/ws/job/".concat(b),variant:"outline-primary",children:"Complete Job"})]})]})]})})})]}):Object(a.jsx)(j.a,{to:"/ws/login"})},M=c(117);var z=function(e){var t=e.isAuth,c=e.logout,n=(e.setIsAuth,Object(s.useState)()),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(s.useState)(),N=Object(l.a)(b,2),y=N[0],C=N[1],A=Object(s.useState)([]),I=Object(l.a)(A,2),B=I[0],L=I[1],D=Object(s.useState)(),H=Object(l.a)(D,2),q=H[0],T=H[1],Y=Object(j.g)().id,P=Object(s.useState)(!1),z=Object(l.a)(P,2),W=z[0],V=z[1];function E(){return(E=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/workshop/appointment/".concat(Y),{headers:{Authorization:"Bearer ".concat(t)}});case 4:c=e.sent,C(c.data.appointment),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function U(e){T(Object(x.a)(Object(x.a)({},q),{},Object(O.a)({},e.target.name,e.target.value)))}function F(){return(F=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.post("/api/workshop/complete/".concat(Y),i,{headers:{Authorization:"Bearer ".concat(t)}});case 4:e.sent,V(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:d(Object(x.a)(Object(x.a)({},i),{},{item:B}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){E.apply(this,arguments)}()}),[]),W?Object(a.jsx)(j.a,{to:"/dashboard/ws/".concat(y.workshop)}):t?Object(a.jsxs)("div",{className:"cdash2",children:[Object(a.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",children:[Object(a.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(a.jsxs)(v.a,{className:"",children:[Object(a.jsx)(v.a.Link,{as:o.b,to:"/ws/login",children:"Home"}),Object(a.jsx)(v.a.Link,{onClick:c,children:"Logout"})]})]}),Object(a.jsx)(f.a,{className:"cont",children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsxs)("div",{className:"my-3 mx-3",children:[Object(a.jsx)("h1",{children:"Complete Job"}),Object(a.jsx)("h4",{children:y&&y.vehicle.vehicleNumber}),Object(a.jsx)("h4",{children:y&&y.vehicle.make+" "+y.vehicle.model}),Object(a.jsx)("h4",{children:y&&y.work})]}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(S.a.Label,{children:"Date"}),Object(a.jsx)(S.a.Control,{type:"date",name:"date",placeholder:"Job Completion Date",onChange:function(e){var t;d(Object(x.a)(Object(x.a)({},i),{},(t={},Object(O.a)(t,e.target.name,e.target.value),Object(O.a)(t,"workshop",y.workshop),t)))}}),Object(a.jsxs)("div",{className:"my-2",children:[Object(a.jsx)(S.a.Label,{children:"Items"}),Object(a.jsxs)(S.a.Row,{children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(S.a.Control,{onChange:U,name:"item",placeholder:"Item"})}),Object(a.jsx)(w.a,{children:Object(a.jsx)(S.a.Control,{onChange:U,name:"qty",placeholder:"Quantity",type:"number"})}),Object(a.jsx)(w.a,{children:Object(a.jsx)(S.a.Control,{onChange:U,name:"price",placeholder:"Price",type:"number"})}),Object(a.jsx)(k.a,{onClick:function(){if(L([].concat(Object(M.a)(B),[q])),i.item){var e=i;e.item.push(q),d(e)}else d(Object(x.a)(Object(x.a)({},i),{},{item:[q]}))},children:"+"})]})]})]}),B.length>0&&Object(a.jsxs)(R.a,{className:"mt-3",striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Item"}),Object(a.jsx)("th",{children:"Quantity"}),Object(a.jsx)("th",{children:"Price"})]})}),Object(a.jsx)("tbody",{children:B.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t+1}),Object(a.jsx)("td",{children:e.item}),Object(a.jsx)("td",{children:e.qty}),Object(a.jsx)("td",{children:e.price})]},t)}))})]}),Object(a.jsx)(k.a,{onClick:function(){return F.apply(this,arguments)},className:"btn-block mt-4",children:"Submit"})]})})})]}):Object(a.jsx)(j.a,{to:"/ws/login"})};var W=function(e){var t=e.isAuth,c=e.logout,n=(e.setIsAuth,Object(j.g)().id),r=Object(s.useState)([]),i=Object(l.a)(r,2),d=i[0],b=i[1];return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/workshop/".concat(n,"/cust"),{headers:{Authorization:"Bearer ".concat(t)}});case 4:c=e.sent,b(c.data.workshop.customers),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),t?Object(a.jsxs)("div",{className:d&&d.length>1?"cdash3":"cdash2",children:[Object(a.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",children:[Object(a.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(a.jsxs)(v.a,{className:"",children:[Object(a.jsx)(v.a.Link,{as:o.b,to:"/ws/login",children:"Home"}),Object(a.jsx)(v.a.Link,{as:o.b,to:"/ws/customers/".concat(n),children:"Customers"}),Object(a.jsx)(v.a.Link,{onClick:c,children:"Logout"})]})]}),Object(a.jsx)(f.a,{className:"cont",children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)("div",{className:"mt-3 mx-3",children:Object(a.jsx)("h1",{children:"Customers"})}),d&&d.map((function(e){return Object(a.jsx)(w.a,{md:12,children:Object(a.jsxs)(N.a,{className:"my-3 shadow",children:[Object(a.jsx)(N.a.Header,{children:Object(a.jsx)(N.a.Title,{children:Object(a.jsx)("div",{children:e.firstname+" "+e.lastname})})}),Object(a.jsxs)(N.a.Body,{children:[Object(a.jsx)("div",{className:"my-3",children:Object(a.jsx)("h5",{children:e.email})}),Object(a.jsx)("div",{children:Object(a.jsx)("h5",{children:Object(a.jsx)("u",{children:"Vehicles"})})}),e.vehicles.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h6",{children:Object(a.jsx)("strong",{children:e.make+" "+e.model})}),e.serviceRecord.map((function(e){return Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)(R.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"text-center",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Date"}),Object(a.jsx)("th",{children:"Item"}),Object(a.jsx)("th",{children:"Quantity"}),Object(a.jsx)("th",{children:"Price"})]})}),e.workshop=="".concat(n)&&e.item.map((function(t){return Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:A()(e.date).format("dddd, DD MMMM YYYY")}),Object(a.jsx)("td",{children:t.item}),Object(a.jsx)("td",{children:t.qty}),Object(a.jsxs)("td",{children:["$",t.price]})]})})}))]})})}))]})}))]})]},e._id)})}))]})})]}):Object(a.jsx)(j.a,{to:"/ws/login"})};var V=function(e){var t=e.isAuth,c=(e.logout,e.setIsAuth,Object(s.useState)([])),n=Object(l.a)(c,2),r=n[0],i=n[1];return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,h.a.get("/api/workshop/",{headers:{Authorization:"Bearer ".concat(t)}});case 3:return c=e.sent,e.next=6,i(c.data.workshop);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),t?Object(a.jsxs)("div",{className:"cdash2",children:[Object(a.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",children:[Object(a.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(a.jsxs)(v.a,{className:"",children:[Object(a.jsx)(v.a.Link,{as:o.b,to:"/login",children:"Home"}),Object(a.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Workshops"}),Object(a.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Logout"})]})]}),Object(a.jsxs)(f.a,{className:"cont",children:[Object(a.jsx)(g.a,{children:Object(a.jsx)("div",{className:"my-3 mx-3",children:Object(a.jsx)("h1",{children:"Workshops"})})}),Object(a.jsx)(g.a,{children:r&&r.map((function(e){return Object(a.jsx)(w.a,{children:Object(a.jsxs)(N.a,{children:[Object(a.jsx)(N.a.Header,{children:Object(a.jsx)(N.a.Title,{children:e.name})}),Object(a.jsxs)(N.a.Body,{children:[Object(a.jsx)(N.a.Title,{children:"Contact Details"}),e.address," ",Object(a.jsx)("br",{})," ",e.email," ",Object(a.jsx)("br",{})," ",e.phone]})]})})}))})]})]}):Object(a.jsx)(j.a,{to:"/login"})};var E=function(e){var t=e.isRegis,c=e.setIsRegis,n=Object(s.useState)({}),r=Object(l.a)(n,2);r[0],r[1],D.b().shape({firstName:D.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),lastName:D.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),email:D.c().email("Invalid email").required("Required")});var i=D.b().shape({email:D.c().email("Invalid email").required("Required"),password:D.c().min(5,"Too Short!").max(50,"Too Long!").required("Required"),name:D.c().min(5,"Too Short!").required("Required"),phone:D.a().required("Required"),address:D.c().min(8,"Too Short!").required("Required")}),d=Object(H.a)({initialValues:{email:"",password:"",name:"",phone:"",address:""},validationSchema:i,onSubmit:function(e){!function(e){g.apply(this,arguments)}(e)}}),b=d.handleSubmit,O=d.handleChange,x=d.errors,p=d.values,v=d.touched;function g(){return(g=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/auth/register/ws",t);case 3:e.sent,c(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return d.handleBlur,t?Object(a.jsx)(j.a,{to:"/ws/login"}):Object(a.jsx)("div",{className:"cdash2 d-flex align-items-center",children:Object(a.jsx)(f.a,{className:"text-center",children:Object(a.jsxs)(w.a,{md:4,className:"mx-auto py-4 cont2 shadow",children:[Object(a.jsx)("h3",{children:Object(a.jsxs)("strong",{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]})}),Object(a.jsx)("div",{className:"my-1",children:"REGISTER"}),Object(a.jsxs)(S.a,{onSubmit:b,children:[Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"Email",onChange:O,name:"email",value:p.email,className:v.email&&x.email?"is-invalid":null}),v.email&&x.email?Object(a.jsx)("div",{className:"invalid-feedback",children:x.email}):null]}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{onChange:O,placeholder:"Password",value:p.password,name:"password",type:"password",className:v.password&&x.email?"is-invalid":null}),v.password&&x.password?Object(a.jsx)("div",{className:"invalid-feedback",children:x.password}):null]}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"Workshop Name",onChange:O,value:p.name,name:"name",className:v.name&&x.name?"is-invalid":null}),v.name&&x.name?Object(a.jsx)("div",{className:"invalid-feedback",children:x.name}):null]}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"Address",onChange:O,value:p.address,name:"address",className:v.address&&x.address?"is-invalid":null}),v.address&&x.address?Object(a.jsx)("div",{className:"invalid-feedback",children:x.address}):null]}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"Phone Number",onChange:O,value:p.phone,name:"phone",className:v.phone&&x.phone?"is-invalid":null}),v.phone&&x.phone?Object(a.jsx)("div",{className:"invalid-feedback",children:x.phone}):null]}),Object(a.jsx)(S.a.Row,{className:"mb-3",children:Object(a.jsx)(k.a,{type:"submit",block:!0,children:"Register"})})]}),Object(a.jsx)(o.c,{to:"/ws/login",children:" Back "})]})})})};var U=function(e){var t=e.setIsAuth,c=e.isAuth,n=Object(s.useState)({}),r=Object(l.a)(n,2),i=(r[0],r[1],localStorage.getItem("id")),d=localStorage.getItem("token");Object(s.useEffect)((function(){!function(){if(d)t(!0),j.a,"/dashboard/cust/".concat(i)}()}),[]);var b=D.b().shape({email:D.c().email(),password:D.c()}),O=Object(H.a)({initialValues:{email:"",password:""},validationSchema:b,onSubmit:function(e){!function(e){y.apply(this,arguments)}(e)}}),x=O.handleSubmit,p=O.handleChange,v=O.errors,g=O.values,N=O.touched;function y(){return(y=Object(m.a)(u.a.mark((function e(c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/auth/login/ws",c);case 3:a=e.sent,localStorage.setItem("token",a.data.token),localStorage.setItem("id",a.data.id),t(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return O.handleBlur,c?Object(a.jsx)(j.a,{to:"/dashboard/ws/".concat(i)}):Object(a.jsx)("div",{className:"cdash2 d-flex align-items-center",children:Object(a.jsx)(f.a,{className:"text-center",children:Object(a.jsxs)(w.a,{md:4,className:"mx-auto py-4 cont2 shadow",children:[Object(a.jsx)("h3",{children:Object(a.jsxs)("strong",{children:["WORKSHOP ",Object(a.jsx)("i",{class:"fas fa-tools"})," BUDDY"]})}),Object(a.jsxs)(S.a,{onSubmit:x,children:[Object(a.jsx)("div",{className:"my-2",children:"ADMIN LOGIN"}),Object(a.jsxs)(S.a.Row,{className:"mb-3",children:[Object(a.jsx)(S.a.Control,{placeholder:"email@email.com",value:g.email,onChange:p,name:"email",className:N.email&&v.email?"is-invalid":null}),N.email&&v.email?Object(a.jsx)("div",{className:"invalid-feedback",children:v.email}):null]}),Object(a.jsx)(S.a.Row,{className:"mb-3",children:Object(a.jsx)(S.a.Control,{onChange:p,placeholder:"password",value:g.password,name:"password",type:"password"})}),Object(a.jsx)(S.a.Row,{className:"mb-3",children:Object(a.jsx)(k.a,{type:"submit",block:!0,children:"Login"})})]}),Object(a.jsx)(o.c,{to:"/register/ws",children:"Register for an account"}),Object(a.jsx)("div",{className:"my-1",children:Object(a.jsx)(o.c,{to:"/login",children:"User Login"})})]})})})};var F=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!1),i=Object(l.a)(r,2),d=i[0],h=i[1];function b(){localStorage.removeItem("token"),localStorage.removeItem("id"),n(!1)}return Object(a.jsx)(o.a,{children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"/dashboard/cust/:id",children:Object(a.jsx)(I,{logout:b,setIsAuth:n,isAuth:c})}),Object(a.jsx)(j.b,{path:"/cust/vehicle/:id",children:Object(a.jsx)(B,{logout:b,setIsAuth:n,isAuth:c})}),Object(a.jsx)(j.b,{path:"/cust/appointment/:id",children:Object(a.jsx)(L,{logout:b,setIsAuth:n,isAuth:c})}),Object(a.jsx)(j.b,{path:"/cust/workshops/",children:Object(a.jsx)(V,{logout:b,setIsAuth:n,isAuth:c})}),Object(a.jsx)(j.b,{path:"/dashboard/ws/:id",children:Object(a.jsx)(Y,{logout:b,setIsAuth:n,isAuth:c})}),Object(a.jsx)(j.b,{path:"/ws/appointment/:id",children:Object(a.jsx)(P,{logout:b,setIsAuth:n,isAuth:c})}),Object(a.jsx)(j.b,{path:"/ws/job/:id",children:Object(a.jsx)(z,{logout:b,setIsAuth:n,isAuth:c})}),Object(a.jsx)(j.b,{path:"/ws/customers/:id",children:Object(a.jsx)(W,{logout:b,setIsAuth:n,isAuth:c})}),Object(a.jsx)(j.b,{exact:!0,path:"/",children:Object(a.jsx)(j.a,{to:"/login"})}),Object(a.jsx)(j.b,{path:"/login",children:Object(a.jsx)(q,{setIsAuth:n,isAuth:c})}),Object(a.jsx)(j.b,{exact:!0,path:"/register",children:Object(a.jsx)(T,{setIsRegis:h,isRegis:d})}),Object(a.jsx)(j.b,{exact:!0,path:"/register/ws",children:Object(a.jsx)(E,{setIsRegis:h,isRegis:d})}),Object(a.jsx)(j.b,{exact:!0,path:"/ws/login",children:Object(a.jsx)(U,{setIsAuth:n,isAuth:c})})]})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,161)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};i.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root")),K()}},[[150,1,2]]]);
//# sourceMappingURL=main.53d4fcf7.chunk.js.map